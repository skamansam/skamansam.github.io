<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#999999">
    <meta name="msapplication-TileColor" content="#cccccc">
    <meta name="theme-color" content="#eeeeee">
		<meta http-equiv="content-security-policy" content=""><title>Cookie Detection in Rails 3 | RBE</title><meta property="og:image" content="/images/GSoC-logo-horizontal-800.png" data-svelte="svelte-gwb5t8"><meta content="/images/GSoC-logo-horizontal-800.png" data-svelte="svelte-gwb5t8"><meta property="og:site_name" content="Rude Boy Solutions" data-svelte="svelte-gwb5t8"><meta property="article:published_time" content="2016-08-30T00:00:00.000Z" data-svelte="svelte-gwb5t8"><meta property="article:author" content="skamansam" data-svelte="svelte-gwb5t8"><meta property="og:url" content="" data-svelte="svelte-gwb5t8"><meta property="og:type" content="article" data-svelte="svelte-gwb5t8"><meta property="og:title" content="Cookie Detection in Rails 3 - RBE" data-svelte="svelte-gwb5t8"><meta property="og:image" content="false" data-svelte="svelte-gwb5t8"><meta property="og:description" content="How to detect cookies in Rails 3" data-svelte="svelte-gwb5t8"><meta name="twitter:card" content="summary" data-svelte="svelte-gwb5t8"><meta property="twitter:site" content="@skamansam" data-svelte="svelte-gwb5t8"><meta name="twitter:creator" content="@skamansam" data-svelte="svelte-gwb5t8"><meta name="twitter:image" content="false" data-svelte="svelte-gwb5t8"><meta name="description" content="How to detect cookies in Rails 3" data-svelte="svelte-gwb5t8">
	<link rel="stylesheet" href="/_app/immutable/assets/pages/__layout.svelte-4739f310.css">
	<link rel="modulepreload" href="/_app/immutable/start-2113cc8b.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/index-f095e7d9.js">
	<link rel="modulepreload" href="/_app/immutable/pages/__layout.svelte-d2dbcbfa.js">
	<link rel="modulepreload" href="/_app/immutable/pages/posts/2013-04-23-cookie-detection-in-rails-3.md-d454a5df.js">
	<link rel="modulepreload" href="/_app/immutable/chunks/post-34b2f3fb.js">
			<script>
		if ('serviceWorker' in navigator) {
			addEventListener('load', () => {
				navigator.serviceWorker.register('/service-worker.js');
			});
		}
	</script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1CV0J6F3VM"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script> -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-G3FBL50ZMF');
    </script>
  </head>
	<body>
		


<div class="theme-wrapper light theme- h-screen w-screen p-0 m-0 flex flex-col items-stretch"><header class="site-head flex  svelte-1b8k5if"><div class="header-logo inline-block"><img src="/rbe_logo.gif" alt="Rude Boy Enterprises Logo" width="100"></div>
	<div class="flex flex-col grow justify-center ml-3"><div class="text-4xl text-onPrimaryBg">Rude Boy Solutions</div>
		<div class="indent-5">Solutions. For Life.</div></div>
	<div class="mt-2 mr-2 text-sm"><label for="themeSelector">Theme: </label>
		<select id="themeSelector"><option value="">plain</option><option value="neumorphic">neumorphic</option><option value="glassmorphic">glassmorphic</option><option value="brutal">brutal</option></select>

		<label for="toggle-dark" class="flex items-center cursor-pointer relative mb-4"><span class="mr-3 text-gray-900 text-sm font-medium flex-grow">Dark Mode</span>
			<input type="checkbox" id="toggle-dark" class="sr-only svelte-1b8k5if">
			<div class="toggle-bg bg-gray-200 border-2 border-gray-200 h-6 mr-5 w-11 rounded-full self-end svelte-1b8k5if"></div></label></div>
</header>
  <nav class="sidebar "><ul class=""><li><a href="/portfolio">Portfolio</a></li>
    <li><a href="/posts">Blog</a></li>
    <li><a href="/about">About</a></li>
    <li><a href="/contact">Contact</a></li>
    <li><a href="/demo">MD Demo</a></li></ul></nav>
  <div class="pl-2 pt-2">



<main><article><hgroup><h1>Cookie Detection in Rails 3</h1>
			<p class="date created_at">posted on: 4/23/2013, 5:14:12 PM</p>
			<p class="date updated_at">last updated: 8/30/2016, 12:00:00 AM</p>
			<p class="author">by: skamansam</p></hgroup>
		<div class="description hidden">How to detect cookies in Rails 3</div>
		<p>I have seen a lot of posts on cookie detection in Rails. I believe this may be a
bad idea, in general, but here is a cheap way to detect whether or not cookies
are enabled in the browser. Just add a before_filter that checks for the
presence of the application’s cookie.</p>
<pre class="language-ruby"><!-- HTML_TAG_START --><code class="language-ruby"><span class="token keyword">class</span> <span class="token class-name">ApplicationController</span> <span class="token operator">&lt;</span> ActionController<span class="token double-colon punctuation">::</span>Base

  before_filter <span class="token symbol">:check_cookie</span>

  <span class="token operator">...</span>

  <span class="token keyword">private</span>

  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">check_cookie</span></span>
    cookie_name <span class="token operator">=</span> Rails<span class="token punctuation">.</span>application<span class="token punctuation">.</span>config<span class="token punctuation">.</span>session_options<span class="token punctuation">[</span><span class="token symbol">:key</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> request<span class="token punctuation">.</span>cookies<span class="token punctuation">[</span>cookie_name<span class="token punctuation">]</span><span class="token punctuation">.</span>to_s<span class="token punctuation">.</span>blank<span class="token operator">?</span>
      flash<span class="token punctuation">[</span><span class="token symbol">:error</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"To use this site, you must enable cookies in your browser's settings."</span></span>
    <span class="token keyword">end</span>
  <span class="token keyword">end</span>

<span class="token keyword">end</span></code><!-- HTML_TAG_END --></pre>
<p>..And Voila! Now if your users try to view any page, they will see a nice Flash message about their cookies!</p>
<p>UPDATE 8-30-2016: Rails apps should use cookies. If users don’t have cookies
enabled, they should not be using your app. Plan for the future and leave behind
older browsers. You are not expected to support everyone!</p></article></main></div></div>


		<script type="module" data-sveltekit-hydrate="1wug268">
		import { start } from "/_app/immutable/start-2113cc8b.js";
		start({
			target: document.querySelector('[data-sveltekit-hydrate="1wug268"]').parentNode,
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [0, 42],
				params: {},
				routeId: "posts/2013-04-23-cookie-detection-in-rails-3"
			}
		});
	</script>
	</body>
</html>
